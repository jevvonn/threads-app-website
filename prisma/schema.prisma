// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Thread
model Thread {
  id      String    @id @unique @default(uuid())
  //  user  
  type    String
  title   String
  body    String?
  source  String[]
  //  vote_up 
  //  vote_down
  draft   Boolean
  // likes
  // saved
  Comment Comment[]
}

// Comment

model Comment {
  id       String @id @unique @default(uuid())
  // user
  threadId String
  thread   Thread @relation(fields: [threadId], references: [id])

  parentId  String
  parent    Comment   @relation("childrens_comment", fields: [parentId], references: [id])
  childrens Comment[] @relation("childrens_comment")
  body      String
  // vote_up 
  // vote_down 
  // likes
}
